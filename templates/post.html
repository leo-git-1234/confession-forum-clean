{% extends "base.html" %}
{% block content %}
<div class="container" style="margin-top:40px; margin-bottom:40px;">
    <h2 style="margin-bottom:30px;">Post a Confession</h2>
    {# Notification badge logic for DM icon is handled in base.html via has_new_messages and pending_requests #}
    <form method="POST" enctype="multipart/form-data">
    <label for="title" style="display:block;text-align:left;margin-bottom:6px;font-size:1rem;">Title:</label>
    <input type="text" id="title" name="title" placeholder="Title" required style="width:100%;padding:10px;border-radius:6px;border:1px solid #ccc;box-sizing:border-box;font-size:1rem;margin-bottom:12px;">

    <label for="description" style="display:block;text-align:left;margin-bottom:6px;font-size:1rem;">Description:</label>
    <input type="text" id="description" name="description" placeholder="Short description" required style="width:100%;padding:10px;border-radius:6px;border:1px solid #ccc;box-sizing:border-box;font-size:1rem;margin-bottom:12px;">

    <label for="confession" style="display:block;text-align:left;margin-bottom:6px;font-size:1rem;">Main Content:</label>
    <textarea id="confession" name="confession" rows="6" placeholder="Write your confession..." required style="width:100%;padding:10px;border-radius:6px;border:1px solid #ccc;box-sizing:border-box;font-size:1rem;margin-bottom:12px;resize:vertical;"></textarea>

    <label for="files" style="display:block;text-align:left;margin-bottom:6px;font-size:1rem;">Attach Files:</label>
    <input type="file" id="files" name="files" multiple accept=".pdf,.doc,.docx,.txt" style="width:100%;margin-bottom:12px;">

    <button type="submit" style="width:100%;padding:12px 0;font-size:1rem;border-radius:6px;">Submit Confession</button>
</form>
<div style="margin-top:20px;">
    <a href="{{ url_for('confessions_page') }}" class="file-link" style="color:#007bff;">Back to All Confessions</a>
    <style>
        @media (max-width: 480px) {
            input, textarea, button {
                font-size: 0.95rem !important;
                padding: 10px 0 !important;
            }
        }
    </style>
</div>
    </div>
{% endblock %}
