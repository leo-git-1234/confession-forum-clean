{% extends "base.html" %}
{% block content %}
<h2>AI Assistant Chat</h2>
<div id="chat-box" style="background:#f4f8fb;padding:20px;border-radius:10px;min-height:200px;max-height:400px;overflow-y:auto;margin-bottom:20px;">
    {% for message in chat_history %}
        <div style="margin-bottom:10px;">
            <b style="color:{{ 'green' if message['role']=='user' else 'blue' }};">
                {{ 'You' if message['role']=='user' else 'Supportive AI' }}:
            </b>
            <span>{{ message['text']|e }}</span>
        </div>
    {% endfor %}
</div>
<form method="POST" style="display:flex;gap:10px;">
    <input type="text" name="user_message" placeholder="Type your message..." style="flex:1;" required>
    <button type="submit">Send</button>
</form>
{% endblock %}
